(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30abf196"],{7633:function(t,e,a){},d8c1:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.series&&t.dates?a("div",{staticClass:"mBlock",staticStyle:{color:"grey"}},[a("DataSwitch",{attrs:{"data-type":t.dataType},on:{typeChange:function(e){t.dataType=e}}}),a("div",{staticStyle:{"padding-bottom":"10px","font-size":"12px"}},[t._v("*"+t._s(t.$t("compareNote")))]),t.selectedCountries.length>0?a("VueApexCharts",{attrs:{width:"100%",height:"320",type:"line",options:t.options,series:t.series}}):t._e(),t._v(" "+t._s(t.$t("compareSelect"))+" "),a("v-select",{attrs:{multiple:"",placeholder:"Select countries to compare",label:"countries",options:t.countryListFiltered,selectable:function(){return t.selectedCountries.length<10}},model:{value:t.selectedCountries,callback:function(e){t.selectedCountries=e},expression:"selectedCountries"}})],1):t._e()},i=[],o=(a("a630"),a("d81d"),a("fb6a"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("130f"),a("1321")),s=a.n(o),d=a("4a7a"),r=a.n(d),c=a("f4ed"),u=a("aef7"),l={name:"CountryCompareSection",props:["globalData","countryList"],components:{VueApexCharts:s.a,vSelect:r.a,DataSwitch:c["a"]},data:function(){return{countryListFiltered:[],selectedCountries:["United Kingdom","Spain","France","Italy","Germany"],dates:null,dataType:"confirmed",series:null}},mounted:function(){var t=this;window.calculatedCountryData||(window.calculatedCountryData={}),this.countryListFiltered=this.countryList.slice(3),setImmediate((function(){console.time("series"),t.getSeries(),console.timeEnd("series")}))},watch:{selectedCountries:function(){this.getSeries(),window.ga("send","event","compare","countries-loaded",this.selectedCountries.toString())},dataType:function(){this.getSeries(),window.ga("send","event","compare","type-changed",this.dataType)}},methods:{getSeries:function(){var t=this;if(0===this.selectedCountries.length)return[];var e=this.selectedCountries.map((function(e){var a,n;return window.calculatedCountryData[e]?n=window.calculatedCountryData[e]:(n=Object(u["e"])(t.globalData,e,50),window.calculatedCountryData[e]=n),{name:e,data:null===(a=n)||void 0===a?void 0:a.map((function(e){return"active"===t.dataType?e.confirmed-e.death-e.cured:"dRate"===t.dataType?(e.death/e.confirmed).toPrecision(2):"cRate"===t.dataType?(e.cured/e.confirmed).toPrecision(2):e[t.dataType]}))}})),a=Math.max.apply(Math,e.map((function(t){return t.data.length}))),n=Array.from(Array(a).keys());this.dates=n.map((function(t){return"D"+t})),this.series=e}},computed:{options:function(){return{chart:{id:"cc",height:320,type:"line",stacked:!1,zoom:{enabled:window.innerWidth>800}},tooltip:{shared:!0,intersect:!1,x:{formatter:function(t){return"Day "+t}}},stroke:{width:3},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{type:"text",categories:this.dates,labels:{rotate:-10}},yaxis:{logarithmic:!1,decimalsInFloat:2}}}}},p=l,h=a("2877"),f=Object(h["a"])(p,n,i,!1,null,"ab9d885a",null);e["default"]=f.exports},f07b:function(t,e,a){"use strict";a("7633")},f4ed:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-secondary dropdown-toggle btn-sm",class:{disabled:t.disabled},attrs:{type:"button",id:"dropdownMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s(t.disabled?t.$t("dataSwitch.number"):t.$t("dataSwitch."+t.dataType)))]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenu"}},t._l(t.options,(function(e){return a("div",{key:e},["#"===e?a("div",{staticClass:"dropdown-divider"}):a("button",{staticClass:"dropdown-item",class:{active:t.dataType===e},attrs:{type:"button"},on:{click:function(a){return t.$emit("typeChange",e)}}},[t._v(t._s(t.$t("dataSwitch."+e)))])])})),0)])},i=[],o={name:"DataSwitch",props:["dataType","disabled","isUk"],data:function(){return{options:[]}},mounted:function(){this.updateOptions()},methods:{updateOptions:function(){this.isUk?this.options=["confirmed","death","confirmedNew","deathNew","#","confirmedRate","deathRate","dRate"]:this.options=["confirmed","active","death","cured","#","dRate","cRate"]}},watch:{dataType:function(){window.ga("send","event","data-switch","type-changed",this.dataType)},isUk:function(){this.updateOptions()}}},s=o,d=(a("f07b"),a("2877")),r=Object(d["a"])(s,n,i,!1,null,"dce651f4",null);e["a"]=r.exports}}]);
//# sourceMappingURL=chunk-30abf196.3d73b9d1.js.map